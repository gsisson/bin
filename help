#!/usr/bin/env bash

cd ~/usr/

subdirs="bin notes"

if [ "$(basename $0)" = "notes" ]; then

  tmpf=_notes.files.names.txt
  rm -f ${tmpf}

  if [ -f "${@}" ];then
    if [ ! -x ./"${@}" ]; then
      echo ./"${@}" is not executable
      exit 1
    fi
    eval ./"${@}"
    exit $?
  fi

  if [ $(ack -i "${@}" $subdirs | wc -l) != 0 ]; then
    ack -i "${@}" $subdirs
  fi

  find $subdirs -type f > ${tmpf}
  bold_green='\e[1;32m'
  reset='\e[0m'

  printf ${bold_green}======================================${reset}"\n"
  if [ $(ack -i "${@}" ${tmpf} | wc -l) = 0 ]; then
    echo "no match for \"$@\" in any filename."
    exit
  fi

  ack -i "${@}" ${tmpf}
  rm ${tmpf}

else

  for dir in $subdirs ; do
    if [ -f "$dir/$1" ]; then
      less "$dir/$1"
    fi
  done

fi
